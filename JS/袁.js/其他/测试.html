<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        var arr = [1, 2, 3, 'dasfs', 4]
        arr.acb = 'fadsasdf'
        arr.pl = '1231'


        //-------------下面都是unshift方法-------------//  
        /*   Array.prototype.unshift = function () {
               var ary = []
               for (var j = 0; j < arguments.length; j++) {
                   ary.push(arguments[j])
               }
               for (var i = 0; i < this.length; i++) {
                   for (var prop in this) {
                       if (prop !== undefined) {
                           ary.push(this[i])
                       }else{
                           continue
                       }
                   }
               }
               this.length = this.length + arguments.length
               for (var k = 0; k < ary.length; k++) {
                   this[k] = ary[k]
               }
               return this.length
           }*/

        //---------过于复杂-----------//
        //    Array.prototype.unshift = function () {
        //         var str = "";
        //         for (var i = 0; i < arguments.length; i++) {
        //             if (typeof arguments[i] == "string") {
        //                 str += "'" + arguments[i] + "',";
        //             } else {
        //                 str += arguments[i] + ",";
        //             }
        //
        //         }
        //         for (var i = 0; i < this.length; i++) {
        //             if (typeof this[i] == "string") {
        //                 str += "'" + this[i] + "',"
        //             } else {
        //                 str += this[i] + ","
        //             }
        //         }
        //         var ary = eval("[" + str + "]");
        //         this.length = ary.length;
        //         for (var i = 0; i < ary.length; i++) {
        //             this[i] = ary[i];
        //         }
        //         return  this  //ary.length;
        //     };


             //骚操作
        var arr = [1,1,1,1,1,1,5,5,5,5,5,5,5,5,77,3,21,4,2,1,34,1,7,421,2,]
        var obj = {}
        var arr1 = []
        for (var i = 0; i < arr.length; i++) {  //进行去重
            if (!obj[arr[i]]) {
                obj[arr[i]] = '占位'
                arr1.push(arr[i])
                continue
            }
        }
        console.log(arr1)
        var arr2 = []
        for (var j = 0; j < arr1.length; j++) {   //进行对比
            var coun = 0
            for (var k = 0; k < arr.length; k++) {
                if (arr1[j] === arr[k]) {
                    coun++
                }
            }
            arr2.push(coun)
        }
        console.log(arr2)
        var obj1 = {}
        for (var i = 0; i < arr2.length; i++) {  //去重后,的值当对象的属性,次数当对象的值
            // if(!obj1[arr2[i]] || ){
            obj1[arr1[i]] = arr2[i]
            continue
            // }
        }
        console.log(obj1)
        var arr6 = []
        for (var prop in obj1) {   //遍历对象,把对象的值拿出来,赋给数组
            arr6.push(obj1[prop])
            console.log(obj1[prop])
        }
        console.log(arr6)
        var coun = 1
        for (var i = 0; i < arr6.length; i++) {    //根据值,也就是次数进行排序
            var str
            for (var j = 1; j < arr6.length; j++) {
                if (arr6[i] > arr6[coun]) {
                    str = arr6[i]
                    arr6[i] = arr6[coun]
                    arr6[coun] = str
                }
                coun++
            }
            coun = i + 2
        }
        console.log(arr6)
         var k = 0
        for(var prop in obj1){    //拿最大索引值,也就是出现次数最多的,和每个对象的属性,进行对比
          if(arr6[arr6.length-1]===obj1[prop]){ //匹配成功就打印对象的属性名,进过上面的骚操作
              console.log(prop)                //属性名就是数组的值
          }
        }
    </script>
</body>

</html>