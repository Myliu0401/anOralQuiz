<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
                 //位运算
                /*
                   将一个整数的二进制格式进行运算
                   js中,如果对一个数据进行位运算,它首先会将其转换为一个整数,并且按照32位的整数进行排列

                   比如
                    2.7 会向下取整 -> 2  0000 0000 0000 0000 0000 0000 0000 0010 会排满32位

                    会调用Number()转换成数字,没法转换的就成NaN,NaN归0  正无穷和负无穷也都贵0
                     二进制 2进1
                     十进制的1  0001
                     十进制的2,进制1 0010 因为2进制1,如果进1后面的数必须归0
                    */

                    /*  
                              符号 & (与运算符)
                            书写: 表达式1 & 表达式2  

                     将两个整数每一位进行比较,如果都为1,结果为1,否则结果为0

                     1 & 2
                     0000 0000 0000 0000 0000 0000 0000 0001
                     0000 0000 0000 0000 0000 0000 0000 0010
                     一对一匹配,都是1才为1

                     5 & 5   (一对一匹配,都是1才为1)
                     0 1 0 1
                     0 1 0 1
                  得:0 1 0 1  == 5

                     7 & 9
                     0 1 1 1
                     1 0 0 1
                  得:0 0 0 1  == 1  
                  
                    20 & 30
                    0 0 1 0 1 0 0 
                    0 0 1 1 1 1 0
                  得:0 0 1 0 1 0 0  === 20
                  
                 */ 

                  /*
                             (或运算)
                            符号 : |
                          写法: 表达式1 | 表达式2  
                    将两个整数每一位进行比较,如果都为0,结果为0,否则结果为1 
                       20 | 30
                       0 0 1 0 1 0 0 
                       0 0 1 1 1 1 0
                     得:0 0 1 1 1 1 0  === 30
                       
                */

                /*
                         (非运算符)
                       符号: ~
                      写法: ~表达方式
                     正数就取反减一
                      ~2 取反 =-2 减一 == -3

                     负数就取正减一
                      ~-20 取正 =20 减一 ==19    


                      快速取整
                      符号:~~
                      ~~4.21321
                      系统会先~-5 再转换成 ~5-1 == 4

                      快速取反
                      ~~-4.21321
                      系统会先~5 再转换成 ~-5-1 == -4


                 */

                 /*
                     异或运算
                      符号:^
                      写法:表达式1 ^ 表达式2 
                      将表达式1和表达式2按位比较,不同取1,相同取0
                      3 ^ 5
                       3转2进制
                       5转2进制
                       0 0 1 1
                       0 1 0 1 
                    得 0 1 1 0  ==6

                  */

                  //三种不同的交换变量
                  var a = 6
                  var b = 7
                  //有增加变量的方式交换
                    var jioahuan 
                    jioahuan = a
                    a = b
                    b = jioahuan
                  //没有增加变量的交换
                    a = a+b
                    b = a-b
                    a = a-b
                  //用异或运算符
                    //6的2进制==00110
                    //7的2进制==00111
                   a = a ^ b
                    // 0 0 1 1 0
                    // 0 0 1 1 1     
                    // 0 0 0 0 1  == 1
                   b = a ^ b
                   // 0 0 0 0 1
                   // 0 0 1 1 1
                   // 0 0 1 1 0 == 6  b为7、6
                   a = a ^ b      
                   // 0 0 0 0 1
                   // 0 0 1 1 0
                   // 0 0 1 1 1 == 7  a为7


                  //位开关,利用二进制的特点
                     //应用场景
                var obj = { 
                  du:0b001,   //0b表示2进制 001表示1  //设为权限可读
                  gai:0b010,  //010表示2   //设为权限可改
                  chuan:0b100  //100表示4  //设为权限可创建权限
                }      
                //变量p保存可读可改
                var p = obj.chuan | obj.gai
                      //  001  |   010     ===011

                 /*
                       去掉可读权限
                      p = p | obj.du ^ obj.du
                       0 1 1
                         ^    == 010
                       0 0 1   

                  */  
        
                    
                //判断权限,p是否为可读权限
                p & obj.du === obj.du ? console.log('可读') : console.log('不可读')
            /* 
                0 1 1
                  &    == 0 0 1      
                0 0 1
             */


          //=================================================

               /*
                      位移运算
                    左位移: <<
                    写法: 表达式1 << 表达式2
                   运算: 表达式1 * 2 ^ 表达式2
                    也相当于翻倍 

                  将数字1的二进制(除符号之外,左移动表达式2的次数)
                   3 << 2
                   00000011
                   00001100  === 12     


                    右位移: >>
                    写法:表达式1 >> 表达式2
                    运算: 向下取整(表达式1 / 2 ^ 表达式2)
                       5 >> 2
                     相当于5/2=2.5(取整)得2^2==4,就等于5/4=1.25(取整)得1

                    运算原理: 5 = 000101 向右移动两位(会丢掉一些数据) 得00001 == 1 
                             2 = 000010     

                    全右位移 : >>>
                     会导致符号位向右移动 
                     运算过于复杂

                */   
    </script>
</body>
</html>