<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>



    <script>
        /* 
                  ##明确函数的双重用途

                  ES6提供了一个特殊的API,可以使用该API在函数内部,判断该函数是否使用new来调用
                  在函数内部使用
                  语法: new.target
                  该表达式,得到的是:如果没有使用new来调用函数,则返回undefined
                  如果使用new调用函数,则得到的是函数本身
            
           
           
           */

        //以前判断调用函数是否用new
        function nio(a, b) {
            this.name = a;
            this.get = b;
            this.nmp = `${a} ${b}`
            if (this instanceof nio) {
                return '报错'
            }
        }
        const ol = new nio('刘', '培璇')

        //以前的用法可以骗过判断
        const kl = nio.call(new nio(), 'liu', 'peixuan')



        //====================ES6的用法
        function isB6(a, b) {
            this.name = a;
            this.get = b;
            this.nmp = `${a} ${b}`
            console.log(new.target)
        }

        new isB6('刘', '培璇') //打印函数本身
        isB6('刘', '培璇') //打印unedfined
    </script>
</body>

</html>