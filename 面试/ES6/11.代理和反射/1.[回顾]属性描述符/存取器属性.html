<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        /*  
                   ## 存取器属性
                      
                       属性描述符中,如果配置了 get 和 set 中的任何一个,则该属性,不再是一个普通属性
                       而变成了存取器属性

                       get 和 set配置均为函数,如果一个属性是存取器属性,则读取该属性时,会运行get方法
                       将get方法得到的返回值作为属性值;
                       如果该属性赋值,则会运行set方法
              
                       存取器最大的意义,在于可以控制属性的读取和赋值



                       因为描述符对象中的 value属性和writable属性是直接操作内存的,所以在存取器中描述符没有这两个属性
                       而 存取器 不是操作内存的 所以如果共存的话会报错
                       因为 存取器 没有内存 它是将值放在函数中 

                     存取器中的 描述符里这两个属性默认为false 
                                                     enumerable:
                                                     writable:
              
              
               */


        const obj = {
            name1: '刘玉联',
            name: '林培璇'
        }

        Object.defineProperty(obj, 'name', {
            //读取obj对象里name属性时,会运行get方法,并将get方法的返回值赋给name属性
            get() {
                console.log('读取了', this)
                return obj._a;
            },

            //给obj对象里的name属性赋值时,会运行set方法,而且会将 赋的值 作为参数传给set方法
            set(val) {
                console.log('赋值了')
                if (val === 5201314) {
                    obj._a = val
                }
            }
        })



        //======================================例子

        const obj1 = {
            name: '林培璇',
            mi: 21,
        }

        Object.defineProperty(obj1, 'mi', { //对象 mi 属性 进行控制

            get() { //读取时运行
                if (obj1._mi !== undefined) {
                    return obj1._mi;
                }
                return 21; //如果直接查看,就直接返回21
            },

            set(val) { //赋值时运行
                if (val < 0) {
                    obj1._mi = 0;
                } else if (val > 100) {
                    obj1._mi = 100;
                }

                obj1._mi = val;
            }
        })

        /* obj1.mi = 200; */
        /* console.log(obj1.mi) */









        //
    </script>
</body>

</html>