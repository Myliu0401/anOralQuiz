<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <div class="bibao"></div>
    <script>
                                //使用var 声明变量导致的问题
        /* 
                1.允许重复的变量声明:导致数据被覆盖
          */

        var a = 1;

        function text() {
            console.log(a)
        }

        //假如这里有一千行代码,重复变量会导致阅读困难,会忘记前面有没有声明过
        var a = 2;

        text(); //2

        //=============================================//

        /* 
         
           2.变量提升:怪异的数据访问、闭包问题
        
        */

        //=======怪异的数据访问
        if (false) {
            var b = 'abc'
            console.log(b)
        } else {
            console.log(b)
        }
        //因为变量提升的问题,会导致不易理解


        //==========闭包问题
        for (var i = 0; i < 10; i++) {
          var button = document.createElement('button') 
          button.innerHTML = '按钮'+i;
          document.getElementsByClassName('bibao')[0].appendChild(button);
          button.onclick = function (){
              console.log(i)
          }
        }
        //变量提升导致
 
        //============================================//

        /* 
          
           3.全局变量挂载到全局对象:全局对象成员污染问题
         
        */
         
         var c = 123456
         console.log(window.c) //污染全局变量

    </script>
</body>

</html>